{"version":3,"sources":["index.js"],"names":["giphyUrl","apikey","urlParams","URLSearchParams","window","location","search","urlParam","get","formElement","document","querySelector","gifDisplay","onload","searching","e","addEventListener","inputText","target","value","set","href","searchedText","url","fetch","then","response","json","data","length","firstChild","removeChild","i","imageDiv","createElement","image","imageModal","favButton","favText","createTextNode","linkButton","linkText","setAttribute","id","images","fixed_width","slug","appendChild","console","log","catch","error","preventDefault","favId","getAttribute","favUrl","getElementsByClassName","currentSrc","favs","localStorage","getItem","undefined","removeItem","setItem"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,WAAW,uCAAjB;AACA,IAAMC,SAAS,kCAAf;;AAEA,IAAIC,YAAY,IAAIC,eAAJ,CAAoBC,OAAOC,QAAP,CAAgBC,MAApC,CAAhB;AACA,IAAIC,WAAWL,UAAUM,GAAV,CAAc,GAAd,CAAf;;AAEA,IAAIC,cAAcC,SAASC,aAAT,CAAuB,OAAvB,CAAlB;AACA,IAAIC,aAAaF,SAASC,aAAT,CAAuB,UAAvB,CAAjB;;AAEA;AACAP,OAAOS,MAAP,GAAgB,aAAK;AACnB,MAAIN,QAAJ,EAAc;AACZO,cAAUP,QAAV,EAAoBQ,CAApB;AACD;AACF,CAJD;;AAMA;AACAN,YAAYO,gBAAZ,CAA6B,QAA7B,EAAuC,aAAK;AAC1C,MAAIC,YAAYF,EAAEG,MAAF,CAAS,CAAT,EAAYC,KAA5B;AACAL,YAAUG,SAAV,EAAqBF,CAArB;AACA,MAAIR,YAAY,IAAhB,EAAsB;AACpBL,cAAUkB,GAAV,CAAc,GAAd,EAAmBH,SAAnB;AACAb,WAAOC,QAAP,CAAgBC,MAAhB,WAA+BW,SAA/B;AACD,GAHD,MAGO;AACLb,WAAOC,QAAP,CAAgBgB,IAAhB,YAA8BJ,SAA9B;AACD;AACF,CATD;;AAWAH,YAAY,mBAACQ,YAAD,EAAeP,CAAf,EAAqB;AAC/B,MAAIQ,MAASvB,QAAT,SAAqBsB,YAArB,iBAA6CrB,MAAjD;AACAuB,QAAMD,GAAN,EACGE,IADH,CACQ,oBAAY;AAChBC,aAASC,IAAT,GAAgBF,IAAhB,CAAqB,gBAAQ;AAC3B,UAAIG,KAAKA,IAAL,CAAUC,MAAd,EAAsB;AACpB,eAAOjB,WAAWkB,UAAlB,EAA8B;AAC5BlB,qBAAWmB,WAAX,CAAuBnB,WAAWkB,UAAlC;AACD;AACD,aAAK,IAAIE,IAAI,CAAb,EAAgBA,IAAIJ,KAAKA,IAAL,CAAUC,MAA9B,EAAsCG,GAAtC,EAA2C;AACzC,cAAIC,WAAWvB,SAASwB,aAAT,CAAuB,KAAvB,CAAf;AACA,cAAIC,QAAQzB,SAASwB,aAAT,CAAuB,KAAvB,CAAZ;AACA,cAAIE,aAAa1B,SAASwB,aAAT,CAAuB,KAAvB,CAAjB;AACA,cAAIG,YAAY3B,SAASwB,aAAT,CAAuB,GAAvB,CAAhB;AACA,cAAII,UAAU5B,SAAS6B,cAAT,CAAwB,KAAxB,CAAd;AACA,cAAIC,aAAa9B,SAASwB,aAAT,CAAuB,GAAvB,CAAjB;AACA,cAAIO,WAAW/B,SAAS6B,cAAT,CAAwB,MAAxB,CAAf;AACAC,qBAAWE,YAAX,CAAwB,MAAxB,EAAgCd,KAAKA,IAAL,CAAUI,CAAV,EAAaT,GAA7C;AACAU,mBAASS,YAAT,CAAsB,OAAtB,EAA+B,gBAA/B;AACAN,qBAAWM,YAAX,CAAwB,OAAxB,EAAiC,UAAjC;AACAL,oBAAUK,YAAV,CAAuB,IAAvB,EAA6Bd,KAAKA,IAAL,CAAUI,CAAV,EAAaW,EAA1C;AACAR,gBAAMO,YAAN,CAAmB,KAAnB,EAA0Bd,KAAKA,IAAL,CAAUI,CAAV,EAAaY,MAAb,CAAoBC,WAApB,CAAgCtB,GAA1D;AACAY,gBAAMO,YAAN,CAAmB,OAAnB,EAA4Bd,KAAKA,IAAL,CAAUI,CAAV,EAAaW,EAAzC;AACAR,gBAAMO,YAAN,CAAmB,KAAnB,EAA0Bd,KAAKA,IAAL,CAAUI,CAAV,EAAac,IAAvC;AACAT,oBAAUU,WAAV,CAAsBT,OAAtB;AACAE,qBAAWO,WAAX,CAAuBN,QAAvB;AACAL,qBAAWW,WAAX,CAAuBV,SAAvB;AACAD,qBAAWW,WAAX,CAAuBP,UAAvB;AACAP,mBAASc,WAAT,CAAqBX,UAArB;AACAH,mBAASc,WAAT,CAAqBZ,KAArB;AACAvB,qBAAWmC,WAAX,CAAuBd,QAAvB;AACD;AACF,OA3BD,MA2BO;AACLe,gBAAQC,GAAR,CAAY,gBAAZ;AACD;AACF,KA/BD;AAgCD,GAlCH,EAmCGC,KAnCH,CAmCS;AAAA,WAASF,QAAQC,GAAR,CAAYE,KAAZ,CAAT;AAAA,GAnCT;AAoCApC,IAAEqC,cAAF;AACD,CAvCD;;AAyCA;AACAxC,WAAWI,gBAAX,CAA4B,OAA5B,EAAqC,aAAK;AACxC,MAAIqC,QAAQtC,EAAEG,MAAF,CAASoC,YAAT,CAAsB,IAAtB,CAAZ;AACA,MAAIC,SAAS7C,SAAS8C,sBAAT,CAAgCH,KAAhC,EAAuC,CAAvC,EAA0CI,UAAvD;AACA,MAAIC,OAAOC,aAAaC,OAAb,CAAqBP,KAArB,CAAX;AACA,MAAIA,UAAUQ,SAAd,EAAyB;AACvB,QAAIH,SAAS,IAAb,EAAmB;AACjBC,mBAAaG,UAAb,CAAwBT,KAAxB;AACD,KAFD,MAEO;AACLM,mBAAaI,OAAb,CAAqBV,KAArB,EAA4BE,MAA5B;AACD;AACF;AACF,CAXD","file":"giphyapp.map","sourcesContent":["const giphyUrl = \"http://api.giphy.com/v1/gifs/search?q\";\nconst apikey = \"vw4usscjAkDQiPbUvnGdRJfpEUWqZsuY\";\n\nlet urlParams = new URLSearchParams(window.location.search);\nlet urlParam = urlParams.get(\"q\");\n\nlet formElement = document.querySelector(\"#form\");\nlet gifDisplay = document.querySelector(\".results\");\n\n//Loading\nwindow.onload = e => {\n  if (urlParam) {\n    searching(urlParam, e);\n  }\n};\n\n//search\nformElement.addEventListener(\"submit\", e => {\n  let inputText = e.target[0].value;\n  searching(inputText, e);\n  if (urlParam != null) {\n    urlParams.set(\"q\", inputText);\n    window.location.search = `?q=${inputText}`;\n  } else {\n    window.location.href += `?q=${inputText}`;\n  }\n});\n\nsearching = (searchedText, e) => {\n  let url = `${giphyUrl}=${searchedText}&api_key=${apikey}`;\n  fetch(url)\n    .then(response => {\n      response.json().then(data => {\n        if (data.data.length) {\n          while (gifDisplay.firstChild) {\n            gifDisplay.removeChild(gifDisplay.firstChild);\n          }\n          for (let i = 0; i < data.data.length; i++) {\n            let imageDiv = document.createElement(\"div\");\n            let image = document.createElement(\"img\");\n            let imageModal = document.createElement(\"div\");\n            let favButton = document.createElement(\"p\");\n            let favText = document.createTextNode(\"fav\");\n            let linkButton = document.createElement(\"a\");\n            let linkText = document.createTextNode(\"Link\");\n            linkButton.setAttribute(\"href\", data.data[i].url);\n            imageDiv.setAttribute(\"class\", \"imageContainer\");\n            imageModal.setAttribute(\"class\", \"imgModal\");\n            favButton.setAttribute(\"id\", data.data[i].id);\n            image.setAttribute(\"src\", data.data[i].images.fixed_width.url);\n            image.setAttribute(\"class\", data.data[i].id);\n            image.setAttribute(\"alt\", data.data[i].slug);\n            favButton.appendChild(favText);\n            linkButton.appendChild(linkText);\n            imageModal.appendChild(favButton);\n            imageModal.appendChild(linkButton);\n            imageDiv.appendChild(imageModal);\n            imageDiv.appendChild(image);\n            gifDisplay.appendChild(imageDiv);\n          }\n        } else {\n          console.log(\"Aucun resultat\");\n        }\n      });\n    })\n    .catch(error => console.log(error));\n  e.preventDefault();\n};\n\n//Add to favorite\ngifDisplay.addEventListener(\"click\", e => {\n  let favId = e.target.getAttribute(\"id\");\n  let favUrl = document.getElementsByClassName(favId)[0].currentSrc;\n  let favs = localStorage.getItem(favId);\n  if (favId !== undefined) {\n    if (favs !== null) {\n      localStorage.removeItem(favId);\n    } else {\n      localStorage.setItem(favId, favUrl);\n    }\n  }\n});\n"]}