{"version":3,"sources":["index.js"],"names":["giphyUrl","apikey","urlParams","URLSearchParams","window","location","search","urlParam","get","formElement","document","querySelector","gifDisplay","favorites","gifIds","onload","searching","e","addEventListener","inputText","target","value","set","href","searchedText","url","fetch","then","response","json","data","length","firstChild","removeChild","i","imageDiv","createElement","image","imageModal","favButton","favText","createTextNode","linkButton","linkText","setAttribute","id","images","fixed_width","slug","appendChild","push","console","log","catch","error","preventDefault","favId","getAttribute","ids","favs"],"mappings":"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","file":"giphyapp.map","sourcesContent":["const giphyUrl = \"http://api.giphy.com/v1/gifs/search?q\";\nconst apikey = \"vw4usscjAkDQiPbUvnGdRJfpEUWqZsuY\";\n\nlet urlParams = new URLSearchParams(window.location.search);\nlet urlParam = urlParams.get(\"q\");\n\nlet formElement = document.querySelector(\"#form\");\nlet gifDisplay = document.querySelector(\".results\");\nlet favorites = [];\nlet gifIds = [];\n\n//Loading\nwindow.onload = e => {\n  if (urlParam) {\n    searching(urlParam, e);\n  }\n};\n\n//search\nformElement.addEventListener(\"submit\", e => {\n  let inputText = e.target[0].value;\n  searching(inputText, e);\n  if (urlParam != null) {\n    urlParams.set(\"q\", inputText);\n    window.location.search = `?q=${inputText}`;\n  } else {\n    window.location.href += `?q=${inputText}`;\n  }\n});\n\nsearching = (searchedText, e) => {\n  let url = `${giphyUrl}=${searchedText}&api_key=${apikey}`;\n  fetch(url)\n    .then(response => {\n      response.json().then(data => {\n        if (data.data.length) {\n          while (gifDisplay.firstChild) {\n            gifDisplay.removeChild(gifDisplay.firstChild);\n          }\n          for (let i = 0; i < data.data.length; i++) {\n            let imageDiv = document.createElement(\"div\");\n            let image = document.createElement(\"img\");\n            let imageModal = document.createElement(\"div\");\n            let favButton = document.createElement(\"p\");\n            let favText = document.createTextNode(\"fav\");\n            let linkButton = document.createElement(\"a\");\n            let linkText = document.createTextNode(\"Link\");\n            linkButton.setAttribute(\"href\", data.data[i].url);\n            imageDiv.setAttribute(\"class\", \"imageContainer\");\n            imageModal.setAttribute(\"class\", \"imgModal\");\n            favButton.setAttribute(\"id\", data.data[i].id);\n            image.setAttribute(\"src\", data.data[i].images.fixed_width.url);\n            image.setAttribute(\"class\", data.data[i].id);\n            image.setAttribute(\"alt\", data.data[i].slug);\n            favButton.appendChild(favText);\n            linkButton.appendChild(linkText);\n            imageModal.appendChild(favButton);\n            imageModal.appendChild(linkButton);\n            imageDiv.appendChild(imageModal);\n            imageDiv.appendChild(image);\n            gifDisplay.appendChild(imageDiv);\n            gifIds.push(data.data[i].id);\n          }\n        } else {\n          console.log(\"Aucun resultat\");\n        }\n      });\n    })\n    .catch(error => console.log(error));\n  e.preventDefault();\n};\n\n//Add to favorite\ngifDisplay.addEventListener(\"click\", e => {\n  let favId = e.target.getAttribute(\"id\");\n  for (ids of gifIds) {\n    if (favId == ids) {\n      for (favs of favorites) {\n        if (favs === favId) {\n          //unfavorite the id\n        } else {\n          favorites.push(favId);\n        }\n      }\n    }\n  }\n});\n"]}